(this.webpackJsonpricky_morty_app=this.webpackJsonpricky_morty_app||[]).push([[0],{55:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(14),s=a.n(i),l=(a(55),a(67)),j=a(8),u=a(7),o=a(64),d=a(73),b=a(69),O=a(6),h=a(29),f=a.n(h),m=a(46),p=a(25),x=a(33),g=Object(p.b)("characters/fetchAll",function(){var e=Object(m.a)(f.a.mark((function e(t,a){var n,r,c,i,s,l,j,u,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState().filterParameters,r=t.newPage,Object(x.isEqual)(n,t.filterParameters)||(r=1),c=t.filterParameters,i=c.name,s=c.status,l=c.gender,j=c.species,u=c.type,e.prev=4,e.next=7,fetch("https://rickandmortyapi.com/api/character/?page=".concat(r,"&name=").concat(i,"&status=").concat(s,"&gender=").concat(l,"&species=").concat(j,"&type=").concat(u)).then((function(e){return 404===e.status?404:e.json()})).then((function(e){return e}));case 7:return o=e.sent,e.abrupt("return",404===o?a.rejectWithValue(t.filterParameters):a.fulfillWithValue(o));case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",a.rejectWithValue("Oops"));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()),v=Object(p.b)("characters/fetchDetail",function(){var e=Object(m.a)(f.a.mark((function e(t,a){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://rickandmortyapi.com/api/character/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",a.rejectWithValue("Oops"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()),y=Object(p.c)({name:"characters",initialState:{characters:[],filterParameters:{name:"",status:"",gender:"",species:"",type:""},detailCharacter:{},openDetailModal:!1,curPage:1,countPages:1,loading:!1,bigLoading:!1},reducers:{closeModal:function(e,t){e.openDetailModal=!1}},extraReducers:(n={},Object(O.a)(n,g.pending,(function(e,t){e.loading=!0})),Object(O.a)(n,g.fulfilled,(function(e,t){window.scrollTo(0,0),e.loading=!1,e.curPage=Number(t.meta.arg.newPage),e.countPages=Number(t.payload.info.pages);var a=[t.payload.results,t.meta.arg.filterParameters];e.characters=a[0],e.filterParameters=a[1]})),Object(O.a)(n,g.rejected,(function(e,t){e.loading=!1;var a=[[],t.payload,1,1];e.characters=a[0],e.filterParameters=a[1],e.countPages=a[2],e.curPage=a[3]})),Object(O.a)(n,v.pending,(function(e,t){e.bigLoading=!0})),Object(O.a)(n,v.fulfilled,(function(e,t){e.detailCharacter=t.payload,e.openDetailModal=!0,e.bigLoading=!1})),Object(O.a)(n,v.rejected,(function(e,t){e.bigLoading=!1})),n)}),C=y.actions,k=y.reducer,P=a(1),F=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],l=i[1],O=Object(r.useState)(""),h=Object(u.a)(O,2),f=h[0],m=h[1],p=Object(r.useState)(""),v=Object(u.a)(p,2),y=v[0],C=v[1],k=Object(r.useState)(""),F=Object(u.a)(k,2),N=F[0],w=F[1],T=Object(r.useState)(""),S=Object(u.a)(T,2),L=S[0],I=S[1],D=Object(j.b)(),E=Object(j.c)((function(e){return e})),M=E.filterParameters,_=E.loading;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(o.a,{onClick:function(){return n(!a)},"aria-expanded":a,children:[a?"Close":"Open"," filter"]}),_?"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430",Object(P.jsx)("div",{className:"filter_block",children:Object(P.jsx)(d.a,{in:a,className:"filter",children:Object(P.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),Object(x.isEqual)({name:s,status:f,species:y,type:N,gender:L},M)||D(g({filterParameters:{name:s,status:f,species:y,type:N,gender:L},newPage:1}))},children:[Object(P.jsxs)(b.a.Group,{className:"mb-2",controlId:"filterName",children:[Object(P.jsx)(b.a.Label,{children:"Name:"}),Object(P.jsx)(b.a.Control,{type:"text",onChange:function(e){return l(e.target.value)},placeholder:"Enter name"})]}),Object(P.jsxs)(b.a.Group,{className:"mb-2",children:[Object(P.jsx)(b.a.Label,{className:"d-block",children:"Status:"}),Object(P.jsx)(b.a.Check,{inline:!0,type:"radio",onChange:function(e){return m(e.target.value)},id:"statusFilter1",value:"alive",name:"statusFilter",label:"Alive"}),Object(P.jsx)(b.a.Check,{inline:!0,type:"radio",onChange:function(e){return m(e.target.value)},id:"statusFilter2",value:"dead",name:"statusFilter",label:"Dead"}),Object(P.jsx)(b.a.Check,{inline:!0,type:"radio",onChange:function(e){return m(e.target.value)},id:"statusFilter3",value:"unknown",name:"statusFilter",label:"unknown"})]}),Object(P.jsxs)(b.a.Group,{className:"mb-2",children:[Object(P.jsx)(b.a.Label,{className:"d-block",children:"Species:"}),Object(P.jsx)(b.a.Control,{onChange:function(e){return C(e.target.value)},type:"text",placeholder:"Enter type"})]}),Object(P.jsxs)(b.a.Group,{className:"mb-2",controlId:"filterType",children:[Object(P.jsx)(b.a.Label,{children:"Type:"}),Object(P.jsx)(b.a.Control,{onChange:function(e){return w(e.target.value)},type:"text",placeholder:"Enter type"})]}),Object(P.jsxs)(b.a.Group,{className:"mb-2",children:[Object(P.jsx)(b.a.Label,{className:"d-block",children:"Gender:"}),Object(P.jsx)(b.a.Check,{inline:!0,onChange:function(e){return I(e.target.value)},type:"radio",id:"genderFilter1",value:"male",name:"genderFilter",label:"Male"}),Object(P.jsx)(b.a.Check,{inline:!0,onChange:function(e){return I(e.target.value)},type:"radio",id:"genderFilter2",value:"female",name:"genderFilter",label:"Female"}),Object(P.jsx)(b.a.Check,{inline:!0,onChange:function(e){return I(e.target.value)},type:"radio",id:"genderFilter3",value:"genderless",name:"genderFilter",label:"Genderless"}),Object(P.jsx)(b.a.Check,{inline:!0,onChange:function(e){return I(e.target.value)},type:"radio",id:"genderFilter4",value:"unknown",name:"genderFilter",label:"unknown"})]}),Object(P.jsx)(o.a,{variant:"primary",type:"submit",children:"Apply"})]})})})]})},N=a(65),w=function(){return Object(P.jsx)("div",{className:"fullscreen_loader",children:Object(P.jsx)(N.a,{animation:"grow"})})},T=a(2),S=a(66),L=a(48),I=a(72),D=a(70),E=function(e){var t=Object(j.b)();return Object(P.jsx)(L.a,{md:3,style:{marginBottom:"20px"},children:Object(P.jsxs)(I.a,{children:[Object(P.jsx)(I.a.Img,{variant:"top",src:e.image,alt:e.name}),Object(P.jsxs)(I.a.Body,{children:[Object(P.jsx)(I.a.Title,{children:e.name}),Object(P.jsxs)(D.a,{variant:"flush",children:[Object(P.jsxs)(D.a.Item,{className:"d-flex justify-content-between",children:[Object(P.jsx)(I.a.Text,{children:"Gender:"}),Object(P.jsx)(I.a.Text,{children:e.gender})]}),Object(P.jsxs)(D.a.Item,{className:"d-flex justify-content-between",children:[Object(P.jsx)(I.a.Text,{children:"Species:"}),Object(P.jsx)(I.a.Text,{children:e.species})]}),Object(P.jsxs)(D.a.Item,{className:"d-flex justify-content-between",children:[Object(P.jsx)(I.a.Text,{children:"Status:"}),Object(P.jsx)(I.a.Text,{children:e.status})]}),Object(P.jsxs)(D.a.Item,{className:"d-flex justify-content-between",children:[Object(P.jsx)(I.a.Text,{children:"Type:"}),Object(P.jsx)(I.a.Text,{children:e.type})]})]}),Object(P.jsx)(o.a,{variant:"primary","data-id":e.id,onClick:function(e){return t(v(e.target.dataset.id))},children:"Show detail"})]})]})})};var M=function(){var e=Object(j.c)((function(e){return e})),t=e.characters,a=e.loading;return Object(P.jsx)(S.a,{children:0!==t.length?t.map((function(e){return Object(P.jsx)(E,Object(T.a)({},e),e.id)})):a?"":Object(P.jsx)("div",{className:"not_found",children:"NOT FOUND"})})},_=a(68),G=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e})),a=t.openDetailModal,n=t.detailCharacter;var r=function(e){if(0===Object.keys(e).length)return e;var t={};return Object.keys(e).forEach((function(a){t[a]=e[a]instanceof Object?Object.entries(e[a])[0][1]:e[a]})),t}(n);return Object(P.jsxs)(_.a,{show:a,onHide:function(){return e(C.closeModal())},children:[Object(P.jsx)(_.a.Header,{closeButton:!0,children:Object(P.jsx)(_.a.Title,{children:n.name})}),Object(P.jsxs)(_.a.Body,{children:[Object(P.jsx)("img",{src:n.image,alt:n.name,className:"detailImg"}),Object(P.jsx)("ul",{className:"detaiList",children:Object.keys(r).map((function(e,t){return Object(P.jsxs)("li",{className:"detailList__item",children:[Object(P.jsx)("p",{children:e}),Object(P.jsx)("p",{children:r[e]})]},t)}))})]}),Object(P.jsx)(_.a.Footer,{children:Object(P.jsx)(o.a,{variant:"secondary",onClick:function(){return e(C.closeModal())},children:"Close"})})]})},B=a(71),V=function(){var e,t=Object(j.c)((function(e){return e})),a=t.curPage,n=t.countPages,r=t.filterParameters,c=t.loading,i=Object(j.b)(),s=function(e){i(g({filterParameters:r,newPage:e.target.dataset.value}))};e=n<8||n===a||a+2>n?n:a+2;for(var l=[],u=a>=4&&n>8?n<8?1:a-2:1;u<=e;u++)l.push(Object(P.jsx)(B.a.Item,{"data-value":u,active:a===u,onClick:a!==u?s:void 0,children:u},u));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(B.a,{children:[a>3?Object(P.jsx)(B.a.Item,{"data-value":"1",onClick:s,children:"1"}):"",l,e<n?Object(P.jsxs)(P.Fragment,{children:[a+3!==n?Object(P.jsx)(B.a.Ellipsis,{}):"",Object(P.jsx)(B.a.Item,{"data-value":n,onClick:s,children:n})]}):""]}),c?"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"]})};var W=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e})),a=t.filterParameters,n=t.countPages,c=t.bigLoading;return Object(r.useEffect)((function(){e(g({filterParameters:a,newPage:1}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(l.a,{children:[Object(P.jsx)(F,{}),Object(P.jsx)(M,{}),n>1?Object(P.jsx)(V,{}):"",Object(P.jsx)(G,{})]}),c?Object(P.jsx)(w,{}):""]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,74)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},q=Object(p.a)({reducer:k});s.a.render(Object(P.jsx)(j.a,{store:q,children:Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(W,{})})}),document.getElementById("root")),A()}},[[62,1,2]]]);
//# sourceMappingURL=main.5ff51ad9.chunk.js.map